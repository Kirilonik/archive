# –º–æ–π-–∞—Ä—Ö–∏–≤.—Ä—Ñ

![](docs/screenshots/home.png)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–µ–¥–∏–∞-–∞—Ä—Ö–∏–≤–∞: —Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã, –æ—Ç–º–µ—á–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ —Å–µ–∑–æ–Ω–∞–º –∏ —ç–ø–∏–∑–æ–¥–∞–º, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ—Å–º–æ—Ç—Ä–∞. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä (`Express + PostgreSQL`) –∏ –∫–ª–∏–µ–Ω—Ç (`React + Vite`).

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–∫–ª—é—á–µ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [CI/CD](#cicd)
- [–°–∫—Ä–∏–Ω—à–æ—Ç—ã](#—Å–∫—Ä–∏–Ω—à–æ—Ç—ã)

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîê –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ JWT (access + refresh) —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤ –≤ HTTP-only cookies.
- üé¨ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏ –∏ –∑–∞–º–µ—Ç–∫–∞–º–∏.
- üì∫ –£—á—ë—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ —Å–µ–∑–æ–Ω–∞–º –∏ —ç–ø–∏–∑–æ–¥–∞–º, –æ—Ç–º–µ—Ç–∫–∏ ¬´–ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ¬ª.
- üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∂–∞–Ω—Ä—ã, —Ä–µ–π—Ç–∏–Ω–≥, –¥–∏–Ω–∞–º–∏–∫–∞ –ø–æ –º–µ—Å—è—Ü–∞–º, —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ñ–∏–ª—å–º–æ–≤/—Å–µ—Ä–∏–∞–ª–æ–≤.
- üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kinopoisk API –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫.
- üß™ –ü–æ–∫—Ä—ã—Ç–∏–µ unit –∏ integration —Ç–µ—Å—Ç–∞–º–∏ (Jest + Supertest).
- üê≥ –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ CI/CD.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
git clone <repo-url>
cd media-archive
npm install

# –ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç + —Å–µ—Ä–≤–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)
npm run dev --workspace server
npm run dev --workspace client

# –∏–ª–∏ —Ü–µ–ª–∏–∫–æ–º —á–µ—Ä–µ–∑ Docker
docker compose up --build
```

–°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:4000`, –∫–ª–∏–µ–Ω—Ç ‚Äî `http://localhost:5173`.

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ:

```
PORT=4000
NODE_ENV=development
API_BASE_URL=http://localhost:4000
FRONTEND_URL=http://localhost:5173

PGHOST=localhost
PGPORT=5432
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=media_archive

JWT_SECRET=dev-access-secret-change-me
JWT_REFRESH_SECRET=dev-refresh-secret-change-me
ACCESS_TOKEN_TTL_MINUTES=15
REFRESH_TOKEN_TTL_DAYS=30

KINOPOISK_API_URL=https://kinopoiskapiunofficial.tech
KINOPOISK_API_KEY=<–≤–∞—à_–∫–ª—é—á>
GOOGLE_CLIENT_ID=<–≤–∞—à_client_id>
```

–í Docker Compose —á–∞—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Å–º. `docker-compose.yml` –∏ `DEPLOY.md`).

## CI/CD

GitHub Actions (`.github/workflows/ci.yml`) –≤—ã–ø–æ–ª–Ω—è–µ—Ç:

1. `npm ci`
2. `npm run lint`
3. `npm run test`
4. `npm -w server run build`
5. `node server/dist/db/migrate.js` (–ø—Ä–æ–≥–æ–Ω –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ —Å–≤–µ–∂–µ–π –ë–î)
6. `npm -w client run build`

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã

| –≠–∫—Ä–∞–Ω | –ü—Ä–µ–≤—å—é |
|-------|--------|
| –ì–ª–∞–≤–Ω–∞—è / –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ | ![–ì–ª–∞–≤–Ω–∞—è](docs/screenshots/home.png) |
| –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞/—Å–µ—Ä–∏–∞–ª–∞ | ![–î–æ–±–∞–≤–ª–µ–Ω–∏–µ](docs/screenshots/add_movie.png) |
| –ö–∞—Ä—Ç–æ—á–∫–∞ —Ñ–∏–ª—å–º–∞ | ![–ö–∞—Ä—Ç–æ—á–∫–∞ —Ñ–∏–ª—å–º–∞](docs/screenshots/movie.png) |
| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | ![–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞](docs/screenshots/stats.png) |
