# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã: —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìä –ß—Ç–æ —Ç–∞–∫–æ–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥?

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** ‚Äî —ç—Ç–æ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –û–Ω —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ:
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Å–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/–ø–∞–º—è—Ç–∏)
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–µ—Ä–≤–∏—Å)
- –û—à–∏–±–∫–∞—Ö (—Å–∫–æ–ª—å–∫–æ –∏ –∫–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ (–∑–∞–≥—Ä—É–∑–∫–∞ –ë–î, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤)

**–ê–ª–µ—Ä—Ç—ã** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç, –∫–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ –∏–¥–µ—Ç –Ω–µ —Ç–∞–∫.

---

## üéØ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?

### 1. **–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**
–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–æ–±—â–∞–ª–∏ –≤–∞–º –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö, –≤—ã —É–∑–Ω–∞–µ—Ç–µ –æ –Ω–∏—Ö –ø–µ—Ä–≤—ã–º–∏.

**–ü—Ä–∏–º–µ—Ä:** 
- –ë–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç "—Å–∞–π—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç" ‚Üí –≤—ã –Ω–∞—á–∏–Ω–∞–µ—Ç–µ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è
- –° –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º: –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –∞–ª–µ—Ä—Ç "–ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞" ‚Üí –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞–º–µ—Ç–∏–ª–∏

### 2. **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
–í—ã –≤–∏–¥–∏—Ç–µ, –∫–∞–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –º–µ–¥–ª–µ–Ω–Ω—ã–µ, –≥–¥–µ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞, —á—Ç–æ –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å.

**–ü—Ä–∏–º–µ—Ä:**
- `/api/search` –æ—Ç–≤–µ—á–∞–µ—Ç 5 —Å–µ–∫—É–Ω–¥ ‚Üí –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ë–î –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 90% CPU ‚Üí –Ω—É–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã

### 3. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è**
–í—ã –≤–∏–¥–∏—Ç–µ —Ä–æ—Å—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –º–æ–∂–µ—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∑–∞—Ä–∞–Ω–µ–µ.

**–ü—Ä–∏–º–µ—Ä:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã—Ä–æ—Å–ª–æ –≤ 2 —Ä–∞–∑–∞ –∑–∞ –º–µ—Å—è—Ü ‚Üí –ø–æ—Ä–∞ –¥—É–º–∞—Ç—å –æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ —Ä–∞—Å—Ç–µ—Ç ‚Üí –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç—ã

### 4. **–ê–Ω–∞–ª–∏–∑ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤**
–ö–æ–≥–¥–∞ —á—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –ø–æ–Ω—è—Ç—å –ø—Ä–∏—á–∏–Ω—É.

**–ü—Ä–∏–º–µ—Ä:**
- –í 14:30 –Ω–∞—á–∞–ª–∏—Å—å –æ—à–∏–±–∫–∏ ‚Üí —Å–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏ ‚Üí –≤–∏–¥–∏–º, —á—Ç–æ –ë–î —É–ø–∞–ª–∞ –≤ 14:25

### 5. **SLA –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
–í—ã –º–æ–∂–µ—Ç–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

**–ü—Ä–∏–º–µ—Ä:**
- "99.9% uptime" (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç 99.9% –≤—Ä–µ–º–µ–Ω–∏)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –≤—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —ç—Ç–æ–π —Ü–µ–ª–∏

---

## ‚è∞ –ö–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ?

### ‚úÖ **–ù—É–∂–Ω–æ –°–ï–ô–ß–ê–°, –µ—Å–ª–∏:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –ï—Å—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ö—Ä–∏—Ç–∏—á–Ω–æ, —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ 24/7
- –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤—Ä—É—á–Ω—É—é

### ‚ö†Ô∏è **–ú–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å, –µ—Å–ª–∏:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ä—É—á–Ω—É—é –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å
- –≠—Ç–æ pet-–ø—Ä–æ–µ–∫—Ç –¥–ª—è —Å–µ–±—è

### üéØ **–î–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
–°—É–¥—è –ø–æ —Ç–æ–º—É, —á—Ç–æ –≤—ã –≥–æ—Ç–æ–≤–∏—Ç–µ—Å—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É, **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω—É–∂–µ–Ω —É–∂–µ —Å–µ–π—á–∞—Å**. –î–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –º–∞–ª–æ, –ª—É—á—à–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ –∑–∞—Ä–∞–Ω–µ–µ.

---

## üîß –ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç–æ–π (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π) ‚Äî –¥–ª—è –Ω–∞—á–∞–ª–∞

#### 1.1. Prometheus + Grafana (self-hosted)

**–ß—Ç–æ —ç—Ç–æ:**
- **Prometheus** ‚Äî —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
- **Grafana** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö –≤ –∫—Ä–∞—Å–∏–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞—Ö

**–ü–ª—é—Å—ã:**
- –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- –û—á–µ–Ω—å –≥–∏–±–∫–∏–π

**–ú–∏–Ω—É—Å—ã:**
- –ù—É–∂–Ω–æ —Å–∞–º–æ–º—É –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –¢—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞

**–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å prom-client –¥–ª—è Node.js
cd server
npm install prom-client

# 2. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª server/src/monitoring/metrics.ts
```

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**

```typescript
// server/src/monitoring/metrics.ts
import { Registry, Counter, Histogram, Gauge } from 'prom-client';

export const register = new Registry();

// –°—á–µ—Ç—á–∏–∫ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
export const httpRequestCounter = new Counter({
  name: 'http_requests_total',
  help: 'Total number of HTTP requests',
  labelNames: ['method', 'route', 'status'],
  registers: [register],
});

// –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
export const httpRequestDuration = new Histogram({
  name: 'http_request_duration_seconds',
  help: 'Duration of HTTP requests in seconds',
  labelNames: ['method', 'route'],
  buckets: [0.1, 0.5, 1, 2, 5, 10],
  registers: [register],
});

// Gauge –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ë–î
export const dbConnectionsActive = new Gauge({
  name: 'db_connections_active',
  help: 'Number of active database connections',
  registers: [register],
});

// Gauge –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
export const memoryUsage = new Gauge({
  name: 'nodejs_memory_usage_bytes',
  help: 'Node.js memory usage in bytes',
  labelNames: ['type'],
  registers: [register],
});
```

**Middleware –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫:**

```typescript
// server/src/middlewares/metrics.middleware.ts
import { Request, Response, NextFunction } from 'express';
import { httpRequestCounter, httpRequestDuration } from '../monitoring/metrics.js';

export function metricsMiddleware(req: Request, res: Response, next: NextFunction) {
  const start = Date.now();
  const route = req.route?.path || req.path;

  res.on('finish', () => {
    const duration = (Date.now() - start) / 1000;
    
    httpRequestCounter.inc({
      method: req.method,
      route,
      status: res.statusCode,
    });

    httpRequestDuration.observe(
      { method: req.method, route },
      duration,
    );
  });

  next();
}
```

**–≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è Prometheus:**

```typescript
// server/src/routes/metrics.routes.ts
import { Router } from 'express';
import { register } from '../monitoring/metrics.js';

export const router = Router();

router.get('/', async (req, res) => {
  res.set('Content-Type', register.contentType);
  res.end(await register.metrics());
});
```

**–î–æ–±–∞–≤–∏—Ç—å –≤ `server/src/routes/register.ts`:**

```typescript
import { router as metricsRouter } from './metrics.routes.js';

export function registerRoutes(app: Express): void {
  // ...
  app.use('/api/metrics', metricsRouter); // Prometheus endpoint
  // ...
}
```

**Docker Compose –¥–ª—è Prometheus + Grafana:**

```yaml
# docker-compose.monitoring.yml
version: '3.9'
services:
  prometheus:
    image: prom/prometheus:latest
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
      - prometheus-data:/prometheus
    command:
      - '--config.file=/etc/prometheus/prometheus.yml'

  grafana:
    image: grafana/grafana:latest
    ports:
      - "3000:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    volumes:
      - grafana-data:/var/lib/grafana

volumes:
  prometheus-data:
  grafana-data:
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Prometheus (`prometheus.yml`):**

```yaml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'media-archive'
    static_configs:
      - targets: ['server:4000']
    metrics_path: '/api/metrics'
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–±–ª–∞—á–Ω—ã–π (–ø–ª–∞—Ç–Ω—ã–π, –Ω–æ –ø—Ä–æ—â–µ) ‚Äî –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

#### 2.1. Sentry (–æ—à–∏–±–∫–∏)

**–ß—Ç–æ —ç—Ç–æ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

**–ü–ª—é—Å—ã:**
- –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
- –ö—Ä–∞—Å–∏–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã
- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

**–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:**

```bash
npm install @sentry/node @sentry/profiling-node
```

```typescript
// server/src/monitoring/sentry.ts
import * as Sentry from '@sentry/node';
import { env } from '../config/env.js';

if (env.NODE_ENV === 'production') {
  Sentry.init({
    dsn: process.env.SENTRY_DSN,
    environment: env.NODE_ENV,
    tracesSampleRate: 0.1, // 10% –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç—Ä–µ–π—Å–∏–Ω–≥–∞
  });
}

export { Sentry };
```

#### 2.2. DataDog / New Relic (–ø–æ–ª–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

**–ß—Ç–æ —ç—Ç–æ:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –ª–æ–≥–æ–≤

**–ü–ª—é—Å—ã:**
- –í—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã
- –û—á–µ–Ω—å –º–æ—â–Ω—ã–π

**–ú–∏–Ω—É—Å—ã:**
- –ü–ª–∞—Ç–Ω–æ (–æ—Ç $15/–º–µ—Å—è—Ü)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–î–ª—è –Ω–∞—á–∞–ª–∞:**
1. Prometheus + Grafana (self-hosted) ‚Äî –¥–ª—è –º–µ—Ç—Ä–∏–∫
2. Sentry (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω) ‚Äî –¥–ª—è –æ—à–∏–±–æ–∫
3. Uptime Robot (–±–µ—Å–ø–ª–∞—Ç–Ω–æ) ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

**–ü–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –≤—ã—Ä–∞—Å—Ç–µ—Ç:**
- –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ DataDog –∏–ª–∏ New Relic

---

## üìà –ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å?

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):

1. **HTTP –º–µ—Ç—Ä–∏–∫–∏:**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ (p50, p95, p99)
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ (4xx, 5xx)

2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

3. **–°–∏—Å—Ç–µ–º–Ω—ã–µ:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞

4. **–ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏:**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏–ª—å–º–æ–≤/—Å–µ—Ä–∏–∞–ª–æ–≤ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –ü–æ–ª–µ–∑–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

5. **–ö—ç—à:**
   - Hit rate (–µ—Å–ª–∏ –±—É–¥–µ—Ç Redis)

6. **–í–Ω–µ—à–Ω–∏–µ API:**
   - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞ API
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫

---

## üö® –ö–∞–∫–∏–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å?

### –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (—Å—Ä–∞–∑—É):

1. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ**
   - –£—Å–ª–æ–≤–∏–µ: Health check –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç 2 –º–∏–Ω—É—Ç—ã
   - –î–µ–π—Å—Ç–≤–∏–µ: Email/SMS/Telegram

2. **–í—ã—Å–æ–∫–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫**
   - –£—Å–ª–æ–≤–∏–µ: >5% –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 5xx
   - –î–µ–π—Å—Ç–≤–∏–µ: Email

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞**
   - –£—Å–ª–æ–≤–∏–µ: –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
   - –î–µ–π—Å—Ç–≤–∏–µ: Email/SMS

4. **–í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**
   - –£—Å–ª–æ–≤–∏–µ: >90% –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ
   - –î–µ–π—Å—Ç–≤–∏–µ: Email

### –í–∞–∂–Ω—ã–µ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ):

5. **–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**
   - –£—Å–ª–æ–≤–∏–µ: p95 –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ >2 —Å–µ–∫—É–Ω–¥—ã
   - –î–µ–π—Å—Ç–≤–∏–µ: Email

6. **–ú–Ω–æ–≥–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –≤—Ö–æ–¥–∞**
   - –£—Å–ª–æ–≤–∏–µ: >10 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∑–∞ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ IP
   - –î–µ–π—Å—Ç–≤–∏–µ: Email (–≤–æ–∑–º–æ–∂–Ω–∞—è –∞—Ç–∞–∫–∞)

7. **–ò—Å—á–µ—Ä–ø–∞–Ω–∏–µ connection pool**
   - –£—Å–ª–æ–≤–∏–µ: –í—Å–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –ë–î –∑–∞–Ω—è—Ç—ã
   - –î–µ–π—Å—Ç–≤–∏–µ: Email

---

## üéØ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –®–∞–≥ 1: –ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (1-2 —á–∞—Å–∞)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `prom-client`
2. –î–æ–±–∞–≤–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (HTTP –∑–∞–ø—Ä–æ—Å—ã, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞)
3. –î–æ–±–∞–≤–∏—Ç—å —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/metrics`
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å Prometheus + Grafana –≤ Docker
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏

### –®–∞–≥ 2: –ê–ª–µ—Ä—Ç—ã (30 –º–∏–Ω—É—Ç)

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Uptime Robot –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ `/api/health`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –∞–ª–µ—Ä—Ç—ã –≤ Grafana (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Alertmanager)

### –®–∞–≥ 3: –£–ª—É—á—à–µ–Ω–∏—è (–ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

1. –î–æ–±–∞–≤–∏—Ç—å Sentry –¥–ª—è –æ—à–∏–±–æ–∫
2. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ë–î
3. –î–æ–±–∞–≤–∏—Ç—å –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ** ‚Äî –Ω–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Å—Ä–∞–∑—É
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã —Ä–∞–∑—É–º–Ω–æ** ‚Äî —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∞–ª–µ—Ä—Ç–æ–≤ = –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥—ã** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –ø–æ–Ω—è—Ç—å –ø—Ä–æ–±–ª–µ–º—É
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** ‚Äî –º–µ—Ç—Ä–∏–∫–∏ –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã, –µ—Å–ª–∏ –Ω–∞ –Ω–∏—Ö –Ω–µ —Å–º–æ—Ç—Ä—è—Ç
5. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ, —á—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –º–µ—Ç—Ä–∏–∫–∏ –∏ –∫–∞–∫ –Ω–∞ –Ω–∏—Ö —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Prometheus –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://prometheus.io/docs/)
- [Grafana –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://grafana.com/docs/)
- [Sentry –¥–ª—è Node.js](https://docs.sentry.io/platforms/node/)
- [Uptime Robot](https://uptimerobot.com/) ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ù—É–∂–Ω–æ –ª–∏ —ç—Ç–æ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞?**  
A: –î–∞, –¥–∞–∂–µ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ —Å—Ç–∞–Ω—É—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–º–∏.

**Q: –°–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç?**  
A: –ú–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ (Prometheus + Grafana self-hosted). –ü–ª–∞—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –æ—Ç $0-15/–º–µ—Å—è—Ü.

**Q: –°–ª–æ–∂–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å?**  
A: –ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Äî –Ω–µ—Ç, 1-2 —á–∞—Å–∞. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –æ–±–æ–π—Ç–∏—Å—å –±–µ–∑ —ç—Ç–æ–≥–æ?**  
A: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –¥–∞, –Ω–æ –≤—ã –±—É–¥–µ—Ç–µ —É–∑–Ω–∞–≤–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞ –Ω–µ –∑–∞—Ä–∞–Ω–µ–µ.

