# Тестирование нового API Kinopoisk

## Получение токена

1. Откройте Telegram бота: [@kinopoiskapiuz_bot](https://t.me/kinopoiskapiuz_bot)
2. Получите Bearer токен
3. Сохраните токен для использования в скриптах

## Запуск тестов

### Быстрый тест

```bash
./test_new_api.sh YOUR_BEARER_TOKEN
```

Или через переменную окружения:

```bash
export KINOPOISK_API_TOKEN_NEW=your_token
./test_new_api.sh
```

### Детальный тест

```bash
./test_new_api_detailed.sh YOUR_BEARER_TOKEN
```

Детальный скрипт проверяет:
- ✅ Поиск фильмов
- ✅ Детали фильма
- ✅ Структуру актеров и режиссеров
- ✅ Доступность изображений
- ✅ Структуру сезонов для сериалов

Результаты сохраняются в файлы `test_results_*.json`

## Что проверить в результатах

1. **Структура поиска**: Как возвращаются результаты поиска?
2. **Поле seasons**: Это строка (JSON) или объект?
3. **Изображения**: Есть ли в `additional` информация об изображениях?
4. **Актеры/режиссеры**: Правильная ли структура массива `Participant`?
5. **Пагинация**: Как работает пагинация в поиске?

## Следующие шаги

После тестирования:
1. Проанализировать результаты
2. Определить, можно ли мигрировать
3. Создать адаптер данных, если нужно
4. Реализовать новую версию клиента

